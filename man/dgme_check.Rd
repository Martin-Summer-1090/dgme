% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dgme_check.R
\name{dgme_check}
\alias{dgme_check}
\title{Post-Solution Consistency Check for a DG Monetary Equilibrium}
\usage{
dgme_check(result, tol = 0.000001, verbose = FALSE)
}
\arguments{
\item{result}{A \code{dgme_result} object.}

\item{tol}{Numeric.  Tolerance for numerical checks.  Default \code{1e-6}.}

\item{verbose}{Logical.  If \code{TRUE}, print diagnostic messages for
each check.  Default \code{FALSE}.}
}
\value{
An S3 object of class \code{dgme_check} (invisibly), a list with:
\describe{
\item{\code{passed}}{Logical: \code{TRUE} if all checks pass.}
\item{\code{checks}}{A named list of individual check results, each
with \code{ok} (logical), \code{value} (the diagnostic quantity),
and \code{message} (human-readable description).}
\item{\code{n_passed}}{Integer: number of checks passed.}
\item{\code{n_failed}}{Integer: number of checks failed.}
}
}
\description{
Given a \code{dgme_result} object, verify that the computed equilibrium
satisfies all theoretical conditions.  This is a diagnostic tool, not
part of the solver itself.  It catches both numerical issues (solver
didn't quite converge) and implementation errors (regime selection,
budget construction).
}
\details{
The following conditions are checked:
\enumerate{
\item \strong{Goods market clearing.}
\eqn{\sum_h x^h_\ell = \sum_h e^h_\ell} for each good \eqn{\ell}.
\item \strong{Flow of funds.}
\eqn{M = (1-q) D} where \eqn{M = \sum_h m^h} and
\eqn{D = \sum_h (-b^h)}.
\item \strong{Budget constraint satisfaction.}
Each household's consumption satisfies the collapsed NA constraint:
\eqn{p \cdot \tau^{h,+} - q \, p \cdot \tau^{h,-} \le m^h}.
\item \strong{Non-negativity of consumption.}
\eqn{x^h_\ell \ge 0} for all households and goods.
\item \strong{Non-negativity of nominal transfers.}
\eqn{\nu^h_0 \ge 0} and \eqn{\nu^h_1 \ge 0} (no unspent-cash
violations with monotone preferences).
\item \strong{Household optimality.}
No household can improve utility by switching to a different trading
regime at the equilibrium prices.
\item \strong{Gains from trade.}
Each household weakly prefers its equilibrium allocation to autarky.
}
}
\examples{
par <- dgme_parametrize("paper_example_1")
res <- dgme_solve(par)
chk <- dgme_check(res$results$baseline)
print(chk)
}
